<html>
<head>
    <title>Genetic Kitchen</title>
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-material-design@4.1.1/dist/css/bootstrap-material-design.min.css" integrity="sha384-wXznGJNEXNG1NFsbm0ugrLFMQPWswR3lds2VeinahP8N0zJw9VWSopbjv2x7WCvX" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://unpkg.com/popper.js@1.12.6/dist/umd/popper.js" integrity="sha384-fA23ZRQ3G/J53mElWqVJEGJzU0sTs+SvzG8fXVWP+kJQ1lwFAOkcUOysnlKJC33U" crossorigin="anonymous"></script>
<script src="https://unpkg.com/bootstrap-material-design@4.1.1/dist/js/bootstrap-material-design.js" integrity="sha384-CauSuKpEqAFajSpkdjv3z9t8E7RlpJ1UP0lKM/+NdtSarroVKu069AlsRPKkFBz9" crossorigin="anonymous"></script>
<script>$(document).ready(function() { $('body').bootstrapMaterialDesign(); });</script>

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    

<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>
<link href="css/sticky-footer.css" rel="stylesheet" />

</head>
<body>
        <script type="text/javascript" src="GeneticKitchen.js"></script>
        <script type="text/javascript" src="Recipe.js"></script>
        <script type="text/javascript" src="app.js"></script>
	<div class="container">
	  <div class="row">
	    <div class="col-xs-4">
              <h1 align="center">Genetic Kitchen</h1>
	      <p align="center">
		<em>Comment est votre blanquette ?</em>
	      </p>
	      <p><br></p>
	    </div>
	    <div class="col-xs-8">
	      <br>

	    <form class="form-inline" align="center">
	    <label>Generation:</label>
            <input class="generation form-control input-sm" type="text" style="width: 50px; text-align: center; margin-right: 20px; margin-left: 10px" />
            <button type="button" class="btn btn-primary start-genetic-algorithm" style="display: inline-block;"><i class="fas fa-play"></i></button>
            <button type="button" class="btn btn-primary pause-genetic-algorithm" style="display: none;"><i class="fas fa-pause"></i></button>
            <button type="button" class="btn btn-default step-genetic-algorithm"><i class="fas fa-step-forward"></i></button>
            <button type="button" class="btn btn-default reset-genetic-algorithm"><i class="fas fa-sync-alt"></i></button>
	    </form>

	    <form class="form-inline" align="center">
            <label>Population:</label>
            <input class="population form-control input-sm" type="text" style="width: 50px; text-align: center" value="100">
            <label style="margin-left: 20px;">Mutation probability:</label>
            <input class="mutation-probability form-control" type="text" style="text-align: center; width: 50px" value="0.5">
            <label style="margin-left: 20px;">Mutation multiplier:</label>
            <input class="mutation-multiplier form-control" type="text" style="text-align: center; width: 50px" value="0.1">
            <label style="margin-left: 20px;">Death rate:</label>
            <input class="death-rate form-control input-sm" type="text" style="width: 50px; text-align: center" value="0.3">
            </form>

	  </div>
	</div> <!-- row -->

	<div class="row">
	  <div class="col-xs-4">
            <div id="table"></div>
	  </div>

	  <div class="col-xs-8">
            <h2>What is this?</h2>
            <p>Genetic Kitchen is an attempt to automatically create a healthy recipe given a list of ingredients and a target nutrient profile.</p>
            <p>You can play with it by pressing <i class="icon-step-forward"></i> to step to the next generation, <i class="icon-play"></i> to step to next generations automatically and <i class="icon-refresh"></i> to reset the simulation.</p>
            <p>Find the code at <a href="http://github.com/yafeunteun/genetic-kitchen">http://github.com/yafeunteun/genetic-kitchen</a></p>
            <h2>How it works</h2>
            <ul>
              <li>Generate 100 recipes, each recipe containing a random amount of each ingredient.</li>
              <li>Score each recipe based on how close all the nutrients are to 100%.</li>
              <li>Sort the recipes from best to worst.</li>
              <li>Show the best one in the table above.</li>
            </ul>
            <p>On each subsequent 'generation', the following happens:</p>
            <ul>
              <li>Remove the worst 30 recipes from the list</li>
              <li>Create 30 new Child recipes containing ingredient amounts taken from two randomly selected Parent recipes.</li>
              <li>Ingredient amounts in each Child can also be mutated if the 'mutation probability' is met.</li>
              <li>A mutation works by taking a random ingredient and increasing or decreasing the amount defined by the 'mutation multiplier'. For example, a mutation multiplier of 0.1 will increase or decrease the amount of an ingredient by 10%.</li>
              <li>Finally, we re-calculate the scores for each recipe, sort them, and show the best one in the table.</li>
            </ul>
	  </div>
	</div>

</div>
      <div class="container">
        <span class="text-muted"><i class="far fa-copyright"></i> Nutrimium 2019</span>
      </div>
    

    <script type="text/javascript">

        var ingredients = [
            { name: 'Brown Sugar',  calories: 281, carbs: 73, protein: 0,  fat: 0,  maxAmount: 8  },
            { name: 'Baking Cocoa', calories: 86,  carbs: 11, protein: 3,  fat: 3,  maxAmount: 25 },
            { name: 'Oat Flower',   calories: 486, carbs: 79, protein: 20, fat: 11, maxAmount: 6  },
            { name: 'Flaxseed',     calories: 123, carbs: 7,  protein: 5,  fat: 9,  maxAmount: 18 },
            { name: 'Olive Oil',    calories: 750, carbs: 0,  protein: 0,  fat: 85, maxAmount: 3  }
        ];

        var testGeneticKitchen = new GeneticKitchen({
            ingredients: ingredients,
            targetNutrients: {
                calories: 2000,
                carbs:    250,
                protein:  85,
                fat:      65
            }
        });

    </script>

</body>
</html>
